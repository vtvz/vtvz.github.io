(window.webpackJsonpmain=window.webpackJsonpmain||[]).push([[3],{402:function(e,t,n){"use strict";n.r(t);var r=n(403),i=n(409),a=n.n(i);function o(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,s,"next",e)}function s(e){o(a,r,i,c,s,"throw",e)}c(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"navbar-subscribe";s(this,e),this.rootClass=t,this.root=$(".".concat(this.rootClass)),this.link=this.root.find(".".concat(this.rootClass,"__link")),this.content=this.root.find(".".concat(this.rootClass,"__content")),this.wide=this.content.filter(".".concat(this.rootClass,"__content--wide")),this.narrow=this.content.filter(".".concat(this.rootClass,"__content--narrow")),this.current=(new Map).set(this.wide,"").set(this.narrow,""),this.registerLinkHandling()}var t,n,i,o,l,f,h,d;return t=e,(n=[{key:"show",value:function(){this.root.removeClass("".concat(this.rootClass,"--hidden"))}},{key:"hide",value:function(){this.root.addClass("".concat(this.rootClass,"--hidden"))}},{key:"registerLinkHandling",value:function(){this.link.click(this.handleClick.bind(this))}},{key:"handleClick",value:(d=c(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.typedeleter(this.current.get(this.wide),(function(e){return n.say(n.wide,e)})),this.typedeleter(this.current.get(this.narrow),(function(e){return n.say(n.narrow,e)}))]);case 2:this.hide(),a.a.set("subscribe_button_clicked","yes");case 4:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"isClicked",value:function(){return"yes"===a.a.get("subscribe_button_clicked")}},{key:"textCompile",value:function(e){var t='<span class="'.concat(this.rootClass,'__subscribe"><wbr>$1</span>'),n='<span class="emoji emoji-sizer '.concat(this.rootClass,'__fox" style="background-image:url(/assets/images/emoji/1f98a.png)" />');return e.replace(/\*(.*?)\*/,t).replace(/\*(.*)$/,t).replace("#",n)||e[0]}},{key:"typewriter",value:(h=c(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i="",a=600/t.length;case 2:if(i===t){e.next=9;break}return i=t.slice(0,i.length+1),n(i),e.next=7,r.a.delay(a*r.a.random(100,200)/100);case 7:e.next=2;break;case 9:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})},{key:"typedeleter",value:(f=c(regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t,a=400/t.length;case 2:if(""===i){e.next=9;break}return n(i),i=t.slice(0,i.length-1),e.next=7,r.a.delay(a);case 7:e.next=2;break;case 9:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})},{key:"loading",value:(l=c(regeneratorRuntime.mark((function e(t){var n,i,a,o,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=3,i='<i class="far fa-circle" />',a='<i class="fas fa-circle" />',o=0,c=0;case 5:if(!(o<t)){e.next=15;break}return(s=new Array(n).fill(i))[c]=a,c=(c+1)%n,this.content.html(s.join(" ")),e.next=12,r.a.delay(300);case 12:o+=300,e.next=5;break;case 15:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"say",value:function(e,t){this.current.set(e,t),e.html(this.textCompile(t))}},{key:"type",value:(o=c(regeneratorRuntime.mark((function e(t){var n,i,a,o,c,s,u,l=this,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=f.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=f[a];o=i.pop(),c=0,s=i;case 3:if(!(c<s.length)){e.next=14;break}return u=s[c],e.next=7,this.typewriter(u,(function(e){return l.say(t,e)}));case 7:return e.next=9,r.a.delay(3e3);case 9:return e.next=11,this.typedeleter(u,(function(e){return l.say(t,e)}));case 11:c++,e.next=3;break;case 14:return e.next=16,this.typewriter(o,(function(e){return l.say(t,e)}));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}])&&u(t.prototype,n),i&&u(t,i),e}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;f(this,e),this.timeout=t,this.lastActivity=new Date,this._detectActivity=this._detectActivity.bind(this),this.idleHandlers=[],this.activeHandlers=[this._detectGlobalActivity.bind(this)],this._setupTimers()}var t,n,r;return t=e,(n=[{key:"_detectActivity",value:function(){this.lastActivity=new Date}},{key:"_detectGlobalActivity",value:function(){a.a.set("global_activity_time",1e3+this.getGlobalActivity())}},{key:"registerIdleHandler",value:function(e){return this.idleHandlers.push(e),this}},{key:"registerActiveHandler",value:function(e){return this.activeHandlers.push(e),this}},{key:"getGlobalActivity",value:function(){return parseInt(a.a.get("global_activity_time"))||0}},{key:"_setupTimers",value:function(){var e=this;document.addEventListener("scroll",this._detectActivity,!1),document.addEventListener("load",this._detectActivity,!1),document.addEventListener("mousemove",this._detectActivity,!1),document.addEventListener("mousedown",this._detectActivity,!1),document.addEventListener("keypress",this._detectActivity,!1),document.addEventListener("touchmove",this._detectActivity,!1),setInterval((function(){var t=(new Date).getTime()-e.lastActivity.getTime();t>e.timeout?e.idleHandlers.forEach((function(e){return e(t)})):e.activeHandlers.forEach((function(e){return e(t)}))}),1e3)}}])&&h(t.prototype,n),r&&h(t,r),e}();function v(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){v(a,r,i,o,c,"next",e)}function c(e){v(a,r,i,o,c,"throw",e)}o(void 0)}))}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"default",(function(){return m}));var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.idleDetector=new d,this.logoSpeaker=new l}var t,n,i,a;return t=e,(n=[{key:"act",value:(a=p(regeneratorRuntime.mark((function e(){var t,n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.logoSpeaker,n=function(){var e=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.show(),e.next=3,t.loading(1800);case 3:return e.next=5,Promise.all([t.type(t.wide,"Нашли что-то интересное или полезное для себя?","*Подписывайтесь*, чтобы ничего не пропустить #"),t.type(t.narrow,"Интересно?","*Подписывайтесь!* #")]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=p(regeneratorRuntime.mark((function e(){var n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:"say",e.next=3,Promise.all([t[n](t.wide,"*Подписывайтесь*, чтобы ничего не пропустить #"),t[n](t.narrow,"*Подписывайтесь!* #")]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=this.idleDetector.getGlobalActivity(),o=!1,e.t0=!0,e.next=e.t0===a<15e3?8:e.t0===(a<18e4&&!t.isClicked())?16:20;break;case 8:if(!(15e3-this.idleDetector.getGlobalActivity()>0)){e.next=13;break}return e.next=11,r.a.delay(15e3-this.idleDetector.getGlobalActivity());case 11:e.next=8;break;case 13:return e.next=15,n();case 15:return e.abrupt("break",21);case 16:return t.show(),e.next=19,i();case 19:return e.abrupt("break",21);case 20:$(".logo").on("mouseenter focusin",p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=6;break}return t.show(),o=!0,e.next=5,i("type");case 5:o=!1;case 6:case"end":return e.stop()}}),e)}))));case 21:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}])&&y(t.prototype,n),i&&y(t,i),e}()},403:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return i}));var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"delay",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"random",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}()},409:function(e,t,n){var r,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(a){if(void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=a(),!!0){var o=window.Cookies,c=window.Cookies=a();c.noConflict=function(){return window.Cookies=o,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in a)a[s]&&(c+="; "+s,!0!==a[s]&&(c+="="+a[s].split(";")[0]));return document.cookie=t+"="+n+c}}function o(e,n){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var c=a[o].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=t(c[0]);if(s=(r.read||r)(s,u)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(i[u]=s,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))}}]);