(window.webpackJsonpmain=window.webpackJsonpmain||[]).push([[8],{398:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var a=n(404),r=n.n(a),l=n(407);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(a=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y={2019:{usnPercent:6,pfr:29354,pfrPercent:3e5,pfrMax:234832,ffoms:6884},2020:{usnPercent:6,pfr:32448,pfrPercent:3e5,pfrMax:259584,ffoms:8426}},b={percent:"Процент от дохода",subscription:"Фиксированная абонентская плата"},E=function(e){function t(){var e,n;m(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=h(this,(e=f(t)).call.apply(e,[this].concat(r)))).state={income:25e3,year:2020,bankStrategy:"percent",bankValue:1},n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,c=[{key:"inject",value:function(e,n){Object(l.render)(r.a.createElement(t,{data:n}),e)}}],(a=[{key:"month",value:function(e){return Math.round(e/12)}},{key:"year",value:function(e){return Math.round(e)}},{key:"handleIncomeChange",value:function(e){this.setState({income:e.target.value})}},{key:"handleYearIncomeChange",value:function(e){this.setState({income:e.target.value/12})}},{key:"handleYearChange",value:function(e){this.setState({year:e.target.value})}},{key:"handleBankStrategyChange",value:function(e){this.setState({bankStrategy:e.target.value})}},{key:"handleBankValueChange",value:function(e){this.setState({bankValue:e.target.value})}},{key:"handleCalculation",value:function(e,t,n){var a=parseInt(n.target.value);t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{income:a});for(var r=this.calculate(e,t);a>this.month(r.total);)t.income+=500,r=this.calculate(e,t);this.setState({income:t.income})}},{key:"calculate",value:function(e,t){var n=12*t.income,a=n*t.bankValue/100;"percent"!==t.bankStrategy&&(a=12*t.bankValue);var r=e.pfr,l=Math.round(Math.max(0,.01*(n-e.pfrPercent))),c=Math.min(e.pfr+l,e.pfrMax),o=e.ffoms,u=o+c,i=Math.round(n*e.usnPercent/100),m=Math.max(0,i-u),s=u+m+a;return{commission:a,pfr:r,pfrPercent:l,pfrTotal:c,ffoms:o,insuranceTotal:u,usn:i,usnTotal:m,totalWaste:s,total:n-s,income:n}}},{key:"render",value:function(){var e=this.state,t=y[e.year],n=this.calculate(t,e);return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 col-lg-2"},r.a.createElement("label",null,"Год"),r.a.createElement("select",{value:e.year,onChange:this.handleYearChange.bind(this)},Object.keys(y).map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement("div",{className:"col-sm-6 col-lg-3"},r.a.createElement("label",null,"Желаемый доход"),r.a.createElement("input",{type:"number",min:"0",onChange:this.handleCalculation.bind(this,t,e)})),r.a.createElement("div",{className:"col-sm-6 col-lg-5"},r.a.createElement("label",null,"Оплата расчетного счета в месяц"),r.a.createElement("select",{value:e.bankStrategy,onChange:this.handleBankStrategyChange.bind(this)},Object.entries(b).map((function(e){var t=o(e,2),n=t[0],a=t[1];return r.a.createElement("option",{value:n,key:n},a)})))),r.a.createElement("div",{className:"col-sm-6 col-lg-2"},r.a.createElement("label",null,"percent"===e.bankStrategy?"Процент":"В месяц"),r.a.createElement("input",{type:"number",min:"0",step:"",value:e.bankValue,onChange:this.handleBankValueChange.bind(this)}))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," "),r.a.createElement("th",null,"Месяц"),r.a.createElement("th",null,"Год"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Доход"),r.a.createElement("td",null,r.a.createElement("input",{style:{width:"100px"},type:"number",min:"0",value:Math.round(e.income),onChange:this.handleIncomeChange.bind(this)})),r.a.createElement("td",null,r.a.createElement("input",{style:{width:"100px"},type:"number",min:"0",value:n.income,onChange:this.handleYearIncomeChange.bind(this)}))),r.a.createElement("tr",null,r.a.createElement("th",null,"Комиссия банка"),r.a.createElement("td",null,this.month(n.commission)),r.a.createElement("td",null,this.year(n.commission))),r.a.createElement("tr",null,r.a.createElement("th",null,"ПФР"),r.a.createElement("td",null,this.month(n.pfr)),r.a.createElement("td",null,this.year(n.pfr))),r.a.createElement("tr",null,r.a.createElement("th",null,"ПФР 1% ",r.a.createElement("small",null,"(>",t.pfrPercent,")")),r.a.createElement("td",null,this.month(n.pfrPercent)),r.a.createElement("td",null,this.year(n.pfrPercent))),r.a.createElement("tr",null,r.a.createElement("th",null,"ПФР Итого"),r.a.createElement("td",null,this.month(n.pfrTotal)),r.a.createElement("td",null,this.year(n.pfrTotal))),r.a.createElement("tr",null,r.a.createElement("th",null,"ФФОМС"),r.a.createElement("td",null,this.month(n.ffoms)),r.a.createElement("td",null,this.year(n.ffoms))),r.a.createElement("tr",null,r.a.createElement("th",null,"Страховые взносы ",r.a.createElement("small",null,"ПФР + ФФОМС")),r.a.createElement("td",null,this.month(n.insuranceTotal)),r.a.createElement("td",null,this.year(n.insuranceTotal))),r.a.createElement("tr",null,r.a.createElement("th",null,"УСН ",t.usnPercent,"%"),r.a.createElement("td",null,this.month(n.usn)),r.a.createElement("td",null,this.year(n.usn))),r.a.createElement("tr",null,r.a.createElement("th",null,"УСН Без страховых"),r.a.createElement("td",null,this.month(n.usnTotal)),r.a.createElement("td",null,this.year(n.usnTotal))),r.a.createElement("tr",null,r.a.createElement("th",null,"Итого расходов"),r.a.createElement("td",null,this.month(n.totalWaste)),r.a.createElement("td",null,this.year(n.totalWaste))),r.a.createElement("tr",null,r.a.createElement("th",null,"Чистая прибыль"),r.a.createElement("td",null,this.month(n.total)),r.a.createElement("td",null,this.year(n.total)))))))}}])&&s(n.prototype,a),c&&s(n,c),t}(a.Component)}}]);